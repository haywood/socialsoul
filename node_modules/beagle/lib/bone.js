var Scraper = require('./scraper.js');

function Bone(response, timeline) {

  this.uri = response.request.uri;
  this.url = this.uri.href;
  this.origin = this.uri.protocol + '//' + this.uri.host;

  this.body = response.body;

  this.title = '';
  this.images = [];
  this.preview = '';

  this.fillInfo(timeline);
};

module.exports = Bone;

Bone.prototype = {

  fillInfo: function(timeline) {
    
    var scraper = new Scraper(this.origin, this.body, timeline);
    
    this.title = scraper.getTitle();
    this.images = scraper.findImages();
    this.preview = scraper.getPreview();
  }

};
